/* Reset et base */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #333;
  background: linear-gradient(135deg, #fff6e6, #ffe0b3, #ffd699, #fff6e6);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
  overflow-x: hidden;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Animations globales */
@keyframes gradientBG { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }
@keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
@keyframes floatSlow { 0%{transform:translate(0,0);}10%{transform:translate(0.5px,-1px);}20%{transform:translate(-0.5px,0.5px);}30%{transform:translate(1px,-0.5px);}40%{transform:translate(-1px,1px);}50%{transform:translate(0.5px,-0.5px);}60%{transform:translate(-0.5px,0.5px);}70%{transform:translate(1px,0);}80%{transform:translate(-1px,-0.5px);}90%{transform:translate(0.5px,1px);}100%{transform:translate(0,0);}}
@keyframes glowBreathe { 0%{text-shadow:0 0 2px rgba(255,102,0,0.4),0 0 4px rgba(255,204,51,0.4);} 50%{text-shadow:0 0 4px rgba(255,102,0,0.6),0 0 8px rgba(255,204,51,0.6);} 100%{text-shadow:0 0 2px rgba(255,102,0,0.4),0 0 4px rgba(255,204,51,0.4);} }
@keyframes gradientText { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }
@keyframes gradientHeader { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }
@keyframes gradientBar { 0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;} }
@keyframes scrollInfo { 0%{transform:translateX(0);}100%{transform:translateX(-100%);} }
@keyframes pulse { 0%{transform:scale(1);opacity:0.6;}50%{transform:scale(1.2);opacity:1;}100%{transform:scale(1);opacity:0.6;} }

/* Header général */
header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: 15px 30px;
  background: linear-gradient(135deg, #ffb347, #ff9900);
  background-size: 400% 400%;
  animation: gradientHeader 30s ease infinite;
  border-radius: 0 0 12px 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.15);
  position: relative;
  z-index: 1000;
  overflow: hidden;
}

header::after {
  content: '';
  position: absolute;
  top:0;left:0;width:100%;height:100%;
  background: rgba(0,0,0,0.05);
  border-radius: 0 0 12px 12px;
  pointer-events:none;
}

/* Header center : titre */
.header-center {
  text-align: center;
  flex:1;
  z-index:1;
}

.header-center h1 {
  font-size: 2.5em;
  font-weight: bold;
  background: linear-gradient(90deg, #0f0f0e, #835021, #111110);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:0 0 2px rgba(255,102,0,0.4),0 0 4px rgba(255,204,51,0.4);
  animation: gradientText 6s ease infinite, floatSlow 10s ease-in-out infinite, glowBreathe 4s ease-in-out infinite;
  margin:0;
}

.header-center p {
  margin:5px 0 0 0;
  font-size:1em;
  color:#555;
}

/* Header droite (menu/utilisateur) */
.header-right {
  display:flex;
  align-items:center;
  gap:15px;
  position:absolute;
  top:50%;
  right:40px;
  transform:translateY(-50%);
  z-index:1010;
}

.header-right ul {
  list-style:none;
  display:flex;
  gap:15px;
  margin:0;
  padding:0;
  align-items:center;
}

.header-right a {
  text-decoration:none;
  color:#555;
  font-weight:500;
  padding:5px 10px;
  transition:color 0.2s;
}

.header-right a:hover {
  color:#ff6600;
}

/* Badge dev */
.dev-badge {
  display:inline-block;
  margin-left:5px;
  padding:2px 6px;
  font-size:0.7em;
  font-weight:bold;
  color:#fff;
  background-color:#ff6600;
  border-radius:8px;
  text-transform:uppercase;
  animation:pulse 3s infinite alternate;
}

/* Container principal */
.container {
  display:flex;
  justify-content:center;
  margin:20px;
  gap:20px;
  flex-wrap:wrap;
}

/* Colonnes pub */
aside.pub {
  background-color:#ffeaa7;
  width:150px;
  min-width:120px;
  padding:10px;
  text-align:center;
  border:2px dashed #f39c12;
  border-radius:10px;
  height:fit-content;
}

/* Contenu principal */
main {
  flex:1;
  min-width:250px;
  max-width:800px;
  background:#fff;
  padding:20px;
  border-radius:15px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
  position:relative;
}

/* Personnage */
.personnage-container {
  width:400px;
  height:400px;
  display:flex;
  justify-content:center;
  align-items:center;
  margin:15px auto;
  background:#fff;
  border-radius:10px;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  overflow:hidden;
}

.personnage-container img {
  width:100%;
  height:100%;
  object-fit:contain;
  border-radius:10px;
  animation:fadeIn 0.5s ease-in-out;
}

/* Réponse + boutons */
.answer-container {
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin:15px auto;
}

.answer-container input[type="text"] {
  padding:10px;
  width:250px;
  border:2px solid #ffb347;
  border-radius:8px;
  font-size:1em;
}

.btn {
  padding:10px 20px;
  background-color:#ffb347;
  border:none;
  border-radius:8px;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
  font-size:1em;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition:background-color 0.3s;
}

.btn:hover { background-color:#ff6600; }

.btn-start { background-color:#ffa500; }
.btn-validate { background-color:#ffb347; margin:0; }
.btn-rejouer { background:linear-gradient(135deg,#f5be48,#f7a600); margin-top:20px; padding:12px 25px; font-size:1.1rem; font-weight:bold; border-radius:25px; }

.btn-rejouer:hover { transform:scale(1.05); box-shadow:0 4px 15px rgba(0,0,0,0.3); }

.click-effect { transform:scale(0.95); box-shadow:0 2px 5px rgba(0,0,0,0.2); transition:transform 0.1s ease, box-shadow 0.1s ease; }

/* Score */
#score-container { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; margin-top:20px; font-weight:600; font-size:1.1rem; background-color:#f4f4f4; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
#best-score { padding:8px 15px; border-radius:20px; background-color:hsl(0,0%,88%); border-color:#f8e800; color:#333; box-shadow:0 3px 6px rgba(0,0,0,0.1); transition:all 0.3s ease-in-out; }
#score-lives span { display:inline-block; padding:6px 12px; border-radius:12px; background-color:hsl(0,0%,88%); color:#333; min-width:35px; text-align:center; margin-left:5px; transition:all 0.3s ease-in-out; }
#score-lives span:hover, #best-score:hover { transform:translateY(-2px); box-shadow:0 4px 10px rgba(0,0,0,0.15); cursor:default; }

/* Quiz end */
.quiz-end-card { text-align:center; background:white; padding:30px; border-radius:15px; box-shadow:0 8px 20px rgba(0,0,0,0.2); max-width:400px; margin:40px auto; animation:fadeInUp 0.6s ease; }
.quiz-end-card h2 { font-size:2rem; font-weight:bold; color:#f5be48; margin-bottom:20px; }
.quiz-end-card p { font-size:1.2rem; margin:10px 0; color:#333; }
.quiz-end-card span { font-weight:bold; color:#f7a600; }

/* Categories */
#categories-container { display:flex; flex-wrap:wrap; justify-content:center; gap:6px; padding:10px 0; }
#categories-container input[type="checkbox"] { display:none; }
#categories-container label { display:inline-block; padding:8px 15px; margin:3px; border:1px solid #ccc; border-radius:15px; background-color:#f8f8f8; color:#333; font-weight:500; cursor:pointer; transition:all 0.2s ease-in-out; text-align:center; white-space:nowrap; }
#categories-container label:not(:has(input:checked)):hover { background-color:#e0e0e0; box-shadow:0 4px 10px rgba(0,0,0,0.1); transform:translateY(-2px) scale(1.02); }
#categories-container label:has(input:checked) { background:linear-gradient(135deg,#f5be48,#f7a600); color:white; border-color:#f7b968; box-shadow:0 0 10px rgba(245,190,72,0.5); transform:none; }

/* Accueil */
#accueil { display:flex; flex-direction:column; align-items:center; gap:15px; padding:20px; }

/* Confetti canvas */
#confetti { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:-1; }

/* Barre info */
.info-bar { position:fixed; bottom:0; width:100%; background:linear-gradient(270deg,#ffcc80,#ff9966,#ffcc80); background-size:600% 100%; color:#fff; font-weight:bold; overflow:hidden; white-space:nowrap; padding:6px 0; box-shadow:0 -3px 10px rgba(0,0,0,0.2); z-index:1000; font-size:0.95em; animation:gradientBar 10s ease infinite; }
.info-content { display:inline-block; padding-left:100%; animation:scrollInfo 30s linear infinite; }

/* Modales */
.modal-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.4); z-index:1020; display:none; }
.modal { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.8); z-index:1030; background:linear-gradient(135deg,#fff6e6,#ffd699); padding:25px 30px; border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.3); width:320px; max-width:90%; text-align:center; opacity:0; transition:transform 0.3s ease, opacity 0.3s ease; }
.modal.show { display:block; opacity:1; transform:translate(-50%,-50%) scale(1); }
.modal h2 { margin-bottom:15px; color:#ff6600; font-size:1.5em; text-shadow:1px 1px 2px rgba(0,0,0,0.2); }
.modal input { width:85%; padding:10px; margin-bottom:10px; border:2px solid #ffb347; border-radius:12px; font-size:1em; outline:none; }
.modal input:focus { border-color:#ff6600; box-shadow:0 0 8px rgba(255,102,0,0.3); }
.modal button { padding:10px 20px; background:linear-gradient(135deg,#ffb347,#ff6600); border:none; border-radius:12px; color:#fff; font-weight:bold; cursor:pointer; margin:5px 0; transition:background 0.3s, transform 0.2s; }
.modal button:hover { background:linear-gradient(135deg,#ff9900,#ff3300); transform:scale(1.05); }

/* Responsive */
@media screen and (max-width: 768px) {
  .container { flex-direction:column; align-items:center; }
  aside.pub { width:80%; margin-bottom:15px; }
  main { width:90%; }
  header { flex-direction:column; justify-content:center; padding:15px 20px; }
  .header-right { position:static; transform:none; margin-top:10px; justify-content:center; gap:10px; }
  .info-bar { font-size:0.85em; padding:5px 0; }
}

@media screen and (max-width:480px) {
  #categories-container { gap:6px; padding:8px 0; }
  #categories-container label { padding:6px 12px; font-size:0.9em; }
}
